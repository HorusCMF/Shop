{% extends 'HorusSiteBundle::layout.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts '@HorusSiteBundle/Resources/public/js/pages/categorie.js' %}
    <script src="{{ asset_url }}" type="text/javascript"></script>
    {% endjavascripts %}

{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets '@HorusSiteBundle/Resources/public/css/pages/category.sass' filter='yui_css' %}
    <link rel="stylesheet" type="text/css" media="screen" href="{{ asset_url }}"/>
    {% endstylesheets %}
{% endblock %}


{% block content %}
    <div id="createcategory" class="page">
        <a class="btn back btn-danger pull-right" href="{{ path('horus_site_categories') }}">&larr; Revenir à la liste des
            catégories</a>

        <h1><i class="glyphicon glyphicon-plus"></i> Créer une catégorie</h1>
        <hr class="clear fancy-line">

        {% if not form.vars.valid %}
            <div class="alert alert-error">
                {{ form_errors(form) }}
            </div>
        {% endif %}

        <form  novalidate="novalidate" action="{{ path('horus_site_add_category') }}" method="post">

            <div class="row-fluid">
                <div class="span12">
                    <label for="name">Nom de la catégorie</label>
                    <div class="input-group">
                        {{ form_widget(form.name) }}
                        <span class="input-group-btn">
                                          <button class="btn btn-search btn-primary"><i
                                                      class="glyphicon glyphicon-pencil"></i></button>
                                      </span>

                    </div>
                    {{ form_errors(form.name) }}
                </div>
            </div>

            <div class="row-fluid">
                <div class="span12">
                    <label for="parent">Catégorie parente</label>
                    {{ form_widget(form.parent) }}
                    {{ form_errors(form.parent) }}
                </div>
            </div>

            <div class="row-fluid">
                <div class="span12">
                    <label for="cover">Petit résumé</label>
                    {{ form_widget(form.cover) }}
                    {{ form_errors(form.cover) }}
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12">
                    <label for="description">Description complète</label>
                        {{ form_widget(form.description) }}
                    {{ form_errors(form.description) }}
                </div>
            </div>
            <div class="row-fluid">
                <div class="span3">
                    <label for="position">Positionnement</label>
                    {{ form_widget(form.position) }}
                    {{ form_errors(form.position) }}
                </div>
            </div>

            <div class="row-fluid">
                <div class="span12">
                    <label for="artticles"><i class="glyphicon glyphicon-book"></i> Articles associés</label>
                        {{ form_widget(form.articles) }}
                    {{ form_errors(form.articles) }}
                </div>
            </div>
            {{ form_rest(form) }}

            <button class="btn btn-primary btn-large" type="submit"><i class="glyphicon glyphicon-plus"></i> Ajouter
                cette catégorie
            </button>
        </form>
    </div>
{% endblock %}

